<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Students</title>
</head>
<body>
<h1>Students grades</h1>
<form th:action="@{/getStudentsGrades}" method="post" th:object="${studentDTO}">
    <select th:field="*{subjectId}">
        <option th:each="subject : ${studentDTO.subjects}"
                th:value="${subject.id}"
                th:text="${subject.name}"></option>
    </select>
    <input type="submit" value="Select Subject">
</form>

<h4>Students</h4>
<div th:each="student : ${studentDTO.students}">
    <h3>Student: <span th:text="${student.firstName}"></span> <span th:text="${student.lastName}"></span>
        <form th:action="@{/createGrade}" method="post" style="display:inline;">
            <input type="hidden" name="studentId" th:value="${student.id}"/>
            <input type="hidden" name="subjectId" th:value="${studentDTO.subjectId}"/>
            <button type="submit">Add grade</button>
        </form>
    </h3>
    <ul>
        <li th:each="grade : ${student.grades}">
            <span th:text="${grade.date}"></span> <span th:text="${grade.grade}"></span> <span
                th:text="${grade.comment}"></span>
        </li>
    </ul>
</div>
</body>
</html>